<div class="highlight"><pre><span class="nb">self</span><span class="p">.</span><span class="n">backgroundThread</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">NSThread</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithTarget</span><span class="p">:</span><span class="nb">self</span> <span class="nl">selector</span><span class="p">:</span><span class="k">@selector</span><span class="p">(</span><span class="n">p_threadWillEnter</span><span class="p">)</span> <span class="nl">object</span><span class="p">:</span><span class="nb">nil</span><span class="p">];</span>
<span class="nb">self</span><span class="p">.</span><span class="n">backgroundThreadPort</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSPort</span> <span class="n">port</span><span class="p">];</span>
<span class="nb">self</span><span class="p">.</span><span class="n">backgroundThreadPort</span><span class="p">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="nb">self</span><span class="p">;</span>
</pre></div>